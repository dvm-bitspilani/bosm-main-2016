<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<script   src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
</head>
<body>
	<div class="chessboard">
		<div class="flexrow">
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="white tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="white tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="white tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="white tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="white tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="white tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="white tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
			<div class="black tile flip" onclick="lighten(this)">
				<div class="card"> 
					<div class="face front"> 

					</div> 
					<div class="face back"> 

					</div> 
				</div>
			</div>
		</div>
		<a href="#_" class="lightbox" onclick="$(this).fadeOut('fast')">
			<img src="img/gallery.jpg">
		</a>
	</div>


	<script type="text/javascript">
		$('.flip').mouseover(function(){
			$(this).find('.card').addClass('flipped').mouseleave(function(){
				$(this).removeClass('flipped');
			});
			return false;
		});

		
		$(document).ready(function()
		{
			setInterval(function(){
				var flip=Math.floor(Math.random() * (15 - 1 + 1)) + 1;
				// console.log(flip);

				var rantile=$('.flexrow div:nth-child('+flip+') div');
				// console.log(rantile);
				rantile.addClass('flipped');
				setTimeout(function(){
					rantile.removeClass('flipped');
				},3000);
			},4000);
		});

		function lighten (imgdiv) {
			var imgurl = $(imgdiv).find('.back').css('background-image');
			var cleanup = /\"|\'|\)/g;
			imgurl = imgurl.split('/').pop().replace(cleanup, '');
			$('.lightbox img').attr('src', 'img/'+imgurl);
			$('.lightbox').fadeIn('slow');

		}

	</script>
</body>
</html>